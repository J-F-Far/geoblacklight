<%# Renders the primary download that is shown first %>
<% document ||= @document %>

<% if document.direct_download.present? %>
  <% if document.use_dct_references? %>
    <%= render partial: 'download_link', locals: { download_link: download_link_direct(download_text(document.file_format), document) } %>
  <% else %>
    <% document.downloads.each do |reference| %>
      <%= render partial: 'download_link', locals: { download_link: download_link_ref(reference, document) } %>
    <% end %>
  <% end %>
<% end %>

<% if document.hgl_download.present? %>
  <%= render partial: 'download_link', locals: { download_link: download_link_hgl(download_text(document.download_types.first[0]), document) } %>
<% end %>

<% if document.iiif_download.present? %>
  <%= render partial: 'download_link', locals: { download_link: download_link_iiif } %>
<% end %>
